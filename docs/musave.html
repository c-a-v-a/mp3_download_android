<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>musave API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>musave</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">from kivy.app import App
from kivy.uix.gridlayout import GridLayout
from kivy.uix.button import Button
from kivy.uix.boxlayout import BoxLayout
from kivy.uix.anchorlayout import AnchorLayout
from kivy.uix.screenmanager import ScreenManager, Screen
from kivy.uix.popup import Popup
from kivy.uix.textinput import TextInput
from kivy.uix.scrollview import ScrollView
from kivy.uix.label import Label
from kivy.graphics import Color, Rectangle
from kivy.core.window import Window

from Database import Database


BUTTON_BG = (98/255, 114/255, 164/255, 1) # Button background color (#6272A4)
DB = Database() # Database


class ErrorPopup(Popup):
    &#34;&#34;&#34;
    A class responsible for error popup window. Most of the methods and 
    attributes are derived from the kivy Popup class

    Attributes
    ----------
    label
        label for error messages

    Methods
    -------
    update_message(msg)
        Updates error popup with the new error message.
    &#34;&#34;&#34;
    def __init__(self, **kwargs):
        &#34;&#34;&#34;
        Creates the error popup and its layout.
        &#34;&#34;&#34;
        super(ErrorPopup, self).__init__(**kwargs);
        self.title = &#39;Error&#39;
        self.size_hint=(.8,.2)

        self._label = Label(text=&#34;Error&#34;)

        self.add_widget(self._label)

    def update_message(self, msg: str):
        &#34;&#34;&#34;
        Updates error popup with the new error message.

        Parameters
        ----------
        msg : str
            new error message that sould be displayed
        &#34;&#34;&#34;
        self._label.text = str(msg)


class AddPopup(Popup):
    &#34;&#34;&#34;
    A class responsible for providing a popup window, in which user can input
    the parameters of a song that needs to be downloaded.
    &#34;&#34;&#34;
    def __init__(self, **kwargs):
        &#34;&#34;&#34;
        Creates the popup and its layout.
        &#34;&#34;&#34;
        super(AddPopup, self).__init__(**kwargs)
        self.title = &#39;Add offline&#39;
        self.size_hint = (0.8, 0.25)

        box = BoxLayout(orientation=&#39;vertical&#39;, spacing=10, padding=[10,10])

        self.url_input = TextInput(hint_text=&#34;Url&#34;)
        box.add_widget(self.url_input)
        self.name_input = TextInput(hint_text=&#34;Name (optional)&#34;)
        box.add_widget(self.name_input)
        self.path_input = TextInput(hint_text=&#34;Path (optional)&#34;)
        box.add_widget(self.path_input)

        btn = Button(text=&#39;Submit&#39;, size_hint=(.5,1), pos_hint={&#39;x&#39;: .25})
        btn.bind(on_press=self._close)
        box.add_widget(btn)

        self.add_widget(box)

    def _close(self, instance):
        &#34;&#34;&#34;
        Closes the popup and tries to add the song, with params taken from
        text inputs, to the database.
        &#34;&#34;&#34;
        url = self.url_input.text
        name = self.name_input.text
        path = self.path_input.text

        try:
            if url == &#39;&#39;:
                raise Exception(&#39;Error. Cannot download from empty url.&#39;)
            DB.add(url, path=path, name=name)
        except Exception as e:
            p = ErrorPopup()
            p.update_message(str(e))
            p.open()

        self.dismiss()


class ListScreen(Screen):
    &#34;&#34;&#34;
    A class that represents the screen that displays all the music items added 
    to the database (all the items that are saved in the database location).
    &#34;&#34;&#34;
    def __init__(self, **kwargs):
        &#34;&#34;&#34;
        Creates the screen and its layout.

        The screen uses kivy ScrollView to prevent the layout from overflowing
        when there are many saved items.
        &#34;&#34;&#34;
        super(ListScreen, self).__init__(**kwargs)
        data = DB.items
        print(data)

        self._layout = BoxLayout(orientation=&#39;vertical&#39;, size_hint_y=None, spacing=10, padding=[25,25])
        self._layout.bind(minimum_height=self._layout.setter(&#39;height&#39;))

        for item in data:
            btn = Button(text=f&#39;{&#34;(A) &#34; if item.is_album else &#34;&#34;}{item.name}&#39;, 
                         size_hint_y=None, height=100, background_color=BUTTON_BG)
            self._layout.add_widget(btn)

        back_btn = Button(text=f&#39;---BACK---&#39;, size_hint_y=None,
                         height=100, background_color=BUTTON_BG)
        back_btn.bind(on_press=self._go_back)

        self._scroll = ScrollView()
        self._scroll.add_widget(self._layout)
        self.add_widget(self._scroll)
        self.add_widget(back_btn)

    def on_enter(self):
        &#34;&#34;&#34;Handles the kivy on_enter screen event.&#34;&#34;&#34;
        self._refresh()

    def _refresh(self):
        &#34;&#34;&#34;Obtains information about saved items and updates the ScrollVew.&#34;&#34;&#34;
        try:
            data = DB.items

            self._scroll.remove_widget(self._layout)

            self._layout = BoxLayout(orientation=&#39;vertical&#39;, size_hint_y=None, spacing=10, padding=[25,25])
            self._layout.bind(minimum_height=self._layout.setter(&#39;height&#39;))
            
            for item in data:
                btn = Button(text=f&#39;{&#34;(A) &#34; if item.is_album else &#34;&#34;}{item.name}&#39;, size_hint_y=None,
                             height=100, background_color=BUTTON_BG)
                self._layout.add_widget(btn)

            self._scroll.add_widget(self._layout)
        except Exception as e:
            p = ErrorPopup()
            p.update_message(e)
            p.open()

    def _go_back(self, instance):
        &#34;&#34;&#34;Changes the currently displayed screen to the MainScreen.&#34;&#34;&#34;
        self.manager.current = &#39;main&#39;


class MainScreen(Screen):
    &#34;&#34;&#34;A class that represents main application screen.&#34;&#34;&#34;
    def __init__(self, **kwargs):
        &#34;&#34;&#34;Creates main screen and its layout.&#34;&#34;&#34;
        super(MainScreen, self).__init__(**kwargs)
        # layouts
        anchor = AnchorLayout(anchor_x=&#39;center&#39;, anchor_y=&#39;center&#39;, padding=[10,10])
        box = BoxLayout(orientation=&#39;vertical&#39;, size_hint=(.5,.15), spacing=10)

        add_btn = Button(text=&#34;Add music&#34;, background_color=BUTTON_BG)
        add_btn.bind(on_press=self._open_add_popup)
        box.add_widget(add_btn)

        list_btn = Button(text=&#34;Music list&#34;, background_color=BUTTON_BG)
        list_btn.bind(on_press=self._goto_list)
        box.add_widget(list_btn);

        anchor.add_widget(box)

        self.add_widget(anchor)

    def _open_add_popup(self, instance):
        &#34;&#34;&#34;Open popup for adding songs.&#34;&#34;&#34;
        popup = AddPopup()
        popup.open()

    def _goto_list(self, instance):
        &#34;&#34;&#34;Changes the currently displayed screen to the ListScreen.&#34;&#34;&#34;
        self.manager.current = &#39;list&#39;


class MyScreenManager(ScreenManager):
    &#34;&#34;&#34;A class manages which screen is displayed by the application.&#34;&#34;&#34;
    def __init__(self, **kwargs):
        &#34;&#34;&#34;Creates scrreen manages with two screens (MainScreen and ListScreen).&#34;&#34;&#34;
        super(MyScreenManager, self).__init__(**kwargs)
        self.add_widget(MainScreen(name=&#39;main&#39;))
        self.add_widget(ListScreen(name=&#39;list&#39;))


class MyApp(App):
    &#34;&#34;&#34;A class representing the whole application interface.&#34;&#34;&#34;
    def build(self):
        &#34;&#34;&#34;Builds the application with the screen manager.&#34;&#34;&#34;
        sm = MyScreenManager()

        # Change the bg color
        with sm.canvas.before:
            Color(40/255, 42/255, 54/255, 1) # #282A36
            self.rect = Rectangle(size=Window.size, pos=sm.pos)

        sm.bind(size=self._update_rect, pos=self._update_rect)

        return sm

    def _update_rect(self, instance, value):
        &#34;&#34;&#34;Updates the application size and position (used for coloring background.&#34;&#34;&#34;
        self.rect.pos = instance.pos
        self.rect.size = instance.size

if __name__ == &#39;__main__&#39;:
    MyApp().run()</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="musave.AddPopup"><code class="flex name class">
<span>class <span class="ident">AddPopup</span></span>
<span>(</span><span>**kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>A class responsible for providing a popup window, in which user can input
the parameters of a song that needs to be downloaded.</p>
<p>Creates the popup and its layout.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class AddPopup(Popup):
    &#34;&#34;&#34;
    A class responsible for providing a popup window, in which user can input
    the parameters of a song that needs to be downloaded.
    &#34;&#34;&#34;
    def __init__(self, **kwargs):
        &#34;&#34;&#34;
        Creates the popup and its layout.
        &#34;&#34;&#34;
        super(AddPopup, self).__init__(**kwargs)
        self.title = &#39;Add offline&#39;
        self.size_hint = (0.8, 0.25)

        box = BoxLayout(orientation=&#39;vertical&#39;, spacing=10, padding=[10,10])

        self.url_input = TextInput(hint_text=&#34;Url&#34;)
        box.add_widget(self.url_input)
        self.name_input = TextInput(hint_text=&#34;Name (optional)&#34;)
        box.add_widget(self.name_input)
        self.path_input = TextInput(hint_text=&#34;Path (optional)&#34;)
        box.add_widget(self.path_input)

        btn = Button(text=&#39;Submit&#39;, size_hint=(.5,1), pos_hint={&#39;x&#39;: .25})
        btn.bind(on_press=self._close)
        box.add_widget(btn)

        self.add_widget(box)

    def _close(self, instance):
        &#34;&#34;&#34;
        Closes the popup and tries to add the song, with params taken from
        text inputs, to the database.
        &#34;&#34;&#34;
        url = self.url_input.text
        name = self.name_input.text
        path = self.path_input.text

        try:
            if url == &#39;&#39;:
                raise Exception(&#39;Error. Cannot download from empty url.&#39;)
            DB.add(url, path=path, name=name)
        except Exception as e:
            p = ErrorPopup()
            p.update_message(str(e))
            p.open()

        self.dismiss()</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>kivy.uix.popup.Popup</li>
<li>kivy.uix.modalview.ModalView</li>
<li>kivy.uix.anchorlayout.AnchorLayout</li>
<li>kivy.uix.layout.Layout</li>
<li>kivy.uix.widget.Widget</li>
<li>kivy.uix.widget.WidgetBase</li>
<li>kivy._event.EventDispatcher</li>
<li>kivy._event.ObjectWithUid</li>
</ul>
</dd>
<dt id="musave.ErrorPopup"><code class="flex name class">
<span>class <span class="ident">ErrorPopup</span></span>
<span>(</span><span>**kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>A class responsible for error popup window. Most of the methods and
attributes are derived from the kivy Popup class</p>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>label</code></strong></dt>
<dd>label for error messages</dd>
</dl>
<h2 id="methods">Methods</h2>
<p>update_message(msg)
Updates error popup with the new error message.</p>
<p>Creates the error popup and its layout.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class ErrorPopup(Popup):
    &#34;&#34;&#34;
    A class responsible for error popup window. Most of the methods and 
    attributes are derived from the kivy Popup class

    Attributes
    ----------
    label
        label for error messages

    Methods
    -------
    update_message(msg)
        Updates error popup with the new error message.
    &#34;&#34;&#34;
    def __init__(self, **kwargs):
        &#34;&#34;&#34;
        Creates the error popup and its layout.
        &#34;&#34;&#34;
        super(ErrorPopup, self).__init__(**kwargs);
        self.title = &#39;Error&#39;
        self.size_hint=(.8,.2)

        self._label = Label(text=&#34;Error&#34;)

        self.add_widget(self._label)

    def update_message(self, msg: str):
        &#34;&#34;&#34;
        Updates error popup with the new error message.

        Parameters
        ----------
        msg : str
            new error message that sould be displayed
        &#34;&#34;&#34;
        self._label.text = str(msg)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>kivy.uix.popup.Popup</li>
<li>kivy.uix.modalview.ModalView</li>
<li>kivy.uix.anchorlayout.AnchorLayout</li>
<li>kivy.uix.layout.Layout</li>
<li>kivy.uix.widget.Widget</li>
<li>kivy.uix.widget.WidgetBase</li>
<li>kivy._event.EventDispatcher</li>
<li>kivy._event.ObjectWithUid</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="musave.ErrorPopup.update_message"><code class="name flex">
<span>def <span class="ident">update_message</span></span>(<span>self, msg: str)</span>
</code></dt>
<dd>
<div class="desc"><p>Updates error popup with the new error message.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>msg</code></strong> :&ensp;<code>str</code></dt>
<dd>new error message that sould be displayed</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def update_message(self, msg: str):
    &#34;&#34;&#34;
    Updates error popup with the new error message.

    Parameters
    ----------
    msg : str
        new error message that sould be displayed
    &#34;&#34;&#34;
    self._label.text = str(msg)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="musave.ListScreen"><code class="flex name class">
<span>class <span class="ident">ListScreen</span></span>
<span>(</span><span>**kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>A class that represents the screen that displays all the music items added
to the database (all the items that are saved in the database location).</p>
<p>Creates the screen and its layout.</p>
<p>The screen uses kivy ScrollView to prevent the layout from overflowing
when there are many saved items.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class ListScreen(Screen):
    &#34;&#34;&#34;
    A class that represents the screen that displays all the music items added 
    to the database (all the items that are saved in the database location).
    &#34;&#34;&#34;
    def __init__(self, **kwargs):
        &#34;&#34;&#34;
        Creates the screen and its layout.

        The screen uses kivy ScrollView to prevent the layout from overflowing
        when there are many saved items.
        &#34;&#34;&#34;
        super(ListScreen, self).__init__(**kwargs)
        data = DB.items
        print(data)

        self._layout = BoxLayout(orientation=&#39;vertical&#39;, size_hint_y=None, spacing=10, padding=[25,25])
        self._layout.bind(minimum_height=self._layout.setter(&#39;height&#39;))

        for item in data:
            btn = Button(text=f&#39;{&#34;(A) &#34; if item.is_album else &#34;&#34;}{item.name}&#39;, 
                         size_hint_y=None, height=100, background_color=BUTTON_BG)
            self._layout.add_widget(btn)

        back_btn = Button(text=f&#39;---BACK---&#39;, size_hint_y=None,
                         height=100, background_color=BUTTON_BG)
        back_btn.bind(on_press=self._go_back)

        self._scroll = ScrollView()
        self._scroll.add_widget(self._layout)
        self.add_widget(self._scroll)
        self.add_widget(back_btn)

    def on_enter(self):
        &#34;&#34;&#34;Handles the kivy on_enter screen event.&#34;&#34;&#34;
        self._refresh()

    def _refresh(self):
        &#34;&#34;&#34;Obtains information about saved items and updates the ScrollVew.&#34;&#34;&#34;
        try:
            data = DB.items

            self._scroll.remove_widget(self._layout)

            self._layout = BoxLayout(orientation=&#39;vertical&#39;, size_hint_y=None, spacing=10, padding=[25,25])
            self._layout.bind(minimum_height=self._layout.setter(&#39;height&#39;))
            
            for item in data:
                btn = Button(text=f&#39;{&#34;(A) &#34; if item.is_album else &#34;&#34;}{item.name}&#39;, size_hint_y=None,
                             height=100, background_color=BUTTON_BG)
                self._layout.add_widget(btn)

            self._scroll.add_widget(self._layout)
        except Exception as e:
            p = ErrorPopup()
            p.update_message(e)
            p.open()

    def _go_back(self, instance):
        &#34;&#34;&#34;Changes the currently displayed screen to the MainScreen.&#34;&#34;&#34;
        self.manager.current = &#39;main&#39;</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>kivy.uix.screenmanager.Screen</li>
<li>kivy.uix.relativelayout.RelativeLayout</li>
<li>kivy.uix.floatlayout.FloatLayout</li>
<li>kivy.uix.layout.Layout</li>
<li>kivy.uix.widget.Widget</li>
<li>kivy.uix.widget.WidgetBase</li>
<li>kivy._event.EventDispatcher</li>
<li>kivy._event.ObjectWithUid</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="musave.ListScreen.on_enter"><code class="name flex">
<span>def <span class="ident">on_enter</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Handles the kivy on_enter screen event.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_enter(self):
    &#34;&#34;&#34;Handles the kivy on_enter screen event.&#34;&#34;&#34;
    self._refresh()</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="musave.MainScreen"><code class="flex name class">
<span>class <span class="ident">MainScreen</span></span>
<span>(</span><span>**kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>A class that represents main application screen.</p>
<p>Creates main screen and its layout.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class MainScreen(Screen):
    &#34;&#34;&#34;A class that represents main application screen.&#34;&#34;&#34;
    def __init__(self, **kwargs):
        &#34;&#34;&#34;Creates main screen and its layout.&#34;&#34;&#34;
        super(MainScreen, self).__init__(**kwargs)
        # layouts
        anchor = AnchorLayout(anchor_x=&#39;center&#39;, anchor_y=&#39;center&#39;, padding=[10,10])
        box = BoxLayout(orientation=&#39;vertical&#39;, size_hint=(.5,.15), spacing=10)

        add_btn = Button(text=&#34;Add music&#34;, background_color=BUTTON_BG)
        add_btn.bind(on_press=self._open_add_popup)
        box.add_widget(add_btn)

        list_btn = Button(text=&#34;Music list&#34;, background_color=BUTTON_BG)
        list_btn.bind(on_press=self._goto_list)
        box.add_widget(list_btn);

        anchor.add_widget(box)

        self.add_widget(anchor)

    def _open_add_popup(self, instance):
        &#34;&#34;&#34;Open popup for adding songs.&#34;&#34;&#34;
        popup = AddPopup()
        popup.open()

    def _goto_list(self, instance):
        &#34;&#34;&#34;Changes the currently displayed screen to the ListScreen.&#34;&#34;&#34;
        self.manager.current = &#39;list&#39;</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>kivy.uix.screenmanager.Screen</li>
<li>kivy.uix.relativelayout.RelativeLayout</li>
<li>kivy.uix.floatlayout.FloatLayout</li>
<li>kivy.uix.layout.Layout</li>
<li>kivy.uix.widget.Widget</li>
<li>kivy.uix.widget.WidgetBase</li>
<li>kivy._event.EventDispatcher</li>
<li>kivy._event.ObjectWithUid</li>
</ul>
</dd>
<dt id="musave.MyApp"><code class="flex name class">
<span>class <span class="ident">MyApp</span></span>
<span>(</span><span>**kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>A class representing the whole application interface.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class MyApp(App):
    &#34;&#34;&#34;A class representing the whole application interface.&#34;&#34;&#34;
    def build(self):
        &#34;&#34;&#34;Builds the application with the screen manager.&#34;&#34;&#34;
        sm = MyScreenManager()

        # Change the bg color
        with sm.canvas.before:
            Color(40/255, 42/255, 54/255, 1) # #282A36
            self.rect = Rectangle(size=Window.size, pos=sm.pos)

        sm.bind(size=self._update_rect, pos=self._update_rect)

        return sm

    def _update_rect(self, instance, value):
        &#34;&#34;&#34;Updates the application size and position (used for coloring background.&#34;&#34;&#34;
        self.rect.pos = instance.pos
        self.rect.size = instance.size</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>kivy.app.App</li>
<li>kivy._event.EventDispatcher</li>
<li>kivy._event.ObjectWithUid</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="musave.MyApp.build"><code class="name flex">
<span>def <span class="ident">build</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Builds the application with the screen manager.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def build(self):
    &#34;&#34;&#34;Builds the application with the screen manager.&#34;&#34;&#34;
    sm = MyScreenManager()

    # Change the bg color
    with sm.canvas.before:
        Color(40/255, 42/255, 54/255, 1) # #282A36
        self.rect = Rectangle(size=Window.size, pos=sm.pos)

    sm.bind(size=self._update_rect, pos=self._update_rect)

    return sm</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="musave.MyScreenManager"><code class="flex name class">
<span>class <span class="ident">MyScreenManager</span></span>
<span>(</span><span>**kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>A class manages which screen is displayed by the application.</p>
<p>Creates scrreen manages with two screens (MainScreen and ListScreen).</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class MyScreenManager(ScreenManager):
    &#34;&#34;&#34;A class manages which screen is displayed by the application.&#34;&#34;&#34;
    def __init__(self, **kwargs):
        &#34;&#34;&#34;Creates scrreen manages with two screens (MainScreen and ListScreen).&#34;&#34;&#34;
        super(MyScreenManager, self).__init__(**kwargs)
        self.add_widget(MainScreen(name=&#39;main&#39;))
        self.add_widget(ListScreen(name=&#39;list&#39;))</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>kivy.uix.screenmanager.ScreenManager</li>
<li>kivy.uix.floatlayout.FloatLayout</li>
<li>kivy.uix.layout.Layout</li>
<li>kivy.uix.widget.Widget</li>
<li>kivy.uix.widget.WidgetBase</li>
<li>kivy._event.EventDispatcher</li>
<li>kivy._event.ObjectWithUid</li>
</ul>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="musave.AddPopup" href="#musave.AddPopup">AddPopup</a></code></h4>
</li>
<li>
<h4><code><a title="musave.ErrorPopup" href="#musave.ErrorPopup">ErrorPopup</a></code></h4>
<ul class="">
<li><code><a title="musave.ErrorPopup.update_message" href="#musave.ErrorPopup.update_message">update_message</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="musave.ListScreen" href="#musave.ListScreen">ListScreen</a></code></h4>
<ul class="">
<li><code><a title="musave.ListScreen.on_enter" href="#musave.ListScreen.on_enter">on_enter</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="musave.MainScreen" href="#musave.MainScreen">MainScreen</a></code></h4>
</li>
<li>
<h4><code><a title="musave.MyApp" href="#musave.MyApp">MyApp</a></code></h4>
<ul class="">
<li><code><a title="musave.MyApp.build" href="#musave.MyApp.build">build</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="musave.MyScreenManager" href="#musave.MyScreenManager">MyScreenManager</a></code></h4>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>